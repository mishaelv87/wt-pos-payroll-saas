# =============================================================================
# WISETRACKS POS & PAYROLL SAAS - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env.local for development or use Cloudflare secrets for production
# All services configured for free tier compatibility
# Last Updated: 2024-01-15

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
NODE_ENV=development
APP_NAME=Wisetracks POS & Payroll SaaS
APP_VERSION=2.0.0
APP_DESCRIPTION=Complete POS and Payroll solution for Philippine businesses

# URLs and Endpoints
APP_URL=https://your-app.pages.dev
API_URL=https://your-worker.your-subdomain.workers.dev
FRONTEND_URL=https://your-app.pages.dev
ADMIN_URL=https://your-app.pages.dev/admin

# =============================================================================
# CLOUDFLARE CONFIGURATION
# =============================================================================
# Get these from your Cloudflare dashboard

# Account Information
CLOUDFLARE_ACCOUNT_ID=your-account-id-here
CLOUDFLARE_API_TOKEN=your-api-token-here
CLOUDFLARE_EMAIL=your-email@domain.com
CLOUDFLARE_ZONE_ID=your-zone-id-here

# Workers Configuration
WORKER_NAME=wisetracks-pos-payroll
WORKER_SUBDOMAIN=your-subdomain

# Pages Configuration
PAGES_PROJECT_NAME=wisetracks-pos-frontend
PAGES_DOMAIN=your-app.pages.dev
PAGES_CUSTOM_DOMAIN=your-custom-domain.com

# =============================================================================
# DATABASE CONFIGURATION (D1)
# =============================================================================
# Cloudflare D1 Database (Free tier: 1 database, 100MB storage)
D1_DATABASE_NAME=wisetracks_pos_payroll_db
D1_DATABASE_ID=your-d1-database-id
D1_PREVIEW_DATABASE_ID=your-d1-preview-database-id

# Database Connection
DATABASE_URL=your-d1-database-url
DATABASE_MAX_CONNECTIONS=10
DATABASE_TIMEOUT=30000

# Migration Settings
MIGRATION_TABLE=schema_migrations
MIGRATION_LOCK_TABLE=migration_lock

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================

# KV Namespace (Free tier: 100,000 reads/day, 1,000 writes/day)
KV_NAMESPACE_ID=your-kv-namespace-id
KV_PREVIEW_NAMESPACE_ID=your-kv-preview-namespace-id
KV_NAMESPACE_NAME=wisetracks_cache

# R2 Storage (Free tier: 10GB storage, 1M Class A operations, 10M Class B operations)
R2_BUCKET_NAME=wisetracks-pos-storage
R2_PREVIEW_BUCKET_NAME=wisetracks-pos-storage-preview
R2_PUBLIC_URL=https://your-bucket.r2.dev
R2_ACCESS_KEY_ID=your-r2-access-key
R2_SECRET_ACCESS_KEY=your-r2-secret-key

# =============================================================================
# SECURITY & AUTHENTICATION
# =============================================================================

# JWT Configuration (CRITICAL - Use secure secrets in production)
JWT_SECRET=your-super-secure-jwt-secret-256-bits-minimum
JWT_ALGORITHM=HS256
JWT_EXPIRES_IN=7d
JWT_ISSUER=wisetracks-pos-saas
JWT_AUDIENCE=wisetracks-users

# Refresh Token Configuration
REFRESH_TOKEN_SECRET=your-refresh-token-secret-256-bits
REFRESH_TOKEN_EXPIRES_IN=30d

# Password Security
BCRYPT_ROUNDS=12
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_SPECIAL=true
PASSWORD_REQUIRE_NUMBERS=true

# Session Management
SESSION_SECRET=your-session-secret-key
SESSION_EXPIRES_IN=24h
SESSION_SECURE=true
SESSION_SAME_SITE=strict

# API Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESS=false

# CORS Configuration
CORS_ORIGIN=https://your-app.pages.dev
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=Content-Type,Authorization,X-Requested-With

# =============================================================================
# PHILIPPINE BUSINESS COMPLIANCE
# =============================================================================

# Bureau of Internal Revenue (BIR)
BIR_TIN=your-business-tin
BIR_RDO_CODE=your-rdo-code
BIR_CAS_USERNAME=your-cas-username
BIR_CAS_PASSWORD=your-cas-password
BIR_API_ENDPOINT=https://cas.bir.gov.ph
BIR_WITHHOLDING_TAX_RATE=0.01

# Social Security System (SSS)
SSS_EMPLOYER_ID=your-sss-employer-id
SSS_API_KEY=your-sss-api-key
SSS_API_SECRET=your-sss-api-secret
SSS_API_ENDPOINT=https://api.sss.gov.ph
SSS_CONTRIBUTION_RATE_EMPLOYEE=0.045
SSS_CONTRIBUTION_RATE_EMPLOYER=0.095

# PhilHealth
PHILHEALTH_EMPLOYER_ID=your-philhealth-id
PHILHEALTH_API_KEY=your-philhealth-api-key
PHILHEALTH_API_ENDPOINT=https://api.philhealth.gov.ph
PHILHEALTH_PREMIUM_RATE=0.05
PHILHEALTH_MAX_SALARY=90000

# Pag-IBIG Fund
PAGIBIG_EMPLOYER_ID=your-pagibig-id
PAGIBIG_API_KEY=your-pagibig-api-key
PAGIBIG_API_ENDPOINT=https://api.pagibigfund.gov.ph
PAGIBIG_CONTRIBUTION_RATE=0.02
PAGIBIG_MAX_SALARY=5000

# =============================================================================
# PAYROLL CONFIGURATION
# =============================================================================

# Minimum Wage by Region (PHP)
MIN_WAGE_NCR=610
MIN_WAGE_REGION_1=380
MIN_WAGE_REGION_2=350
MIN_WAGE_REGION_3=420
MIN_WAGE_REGION_4A=470
MIN_WAGE_REGION_4B=350
MIN_WAGE_REGION_5=380
MIN_WAGE_REGION_6=450
MIN_WAGE_REGION_7=450
MIN_WAGE_REGION_8=350
MIN_WAGE_REGION_9=380
MIN_WAGE_REGION_10=400
MIN_WAGE_REGION_11=450
MIN_WAGE_REGION_12=380
MIN_WAGE_REGION_13=350
MIN_WAGE_BARMM=350
MIN_WAGE_CAR=400

# Overtime Rates
OVERTIME_RATE_REGULAR=1.25
OVERTIME_RATE_HOLIDAY=2.0
OVERTIME_RATE_RESTDAY=1.30

# Leave Configurations
SICK_LEAVE_DAYS=7
VACATION_LEAVE_DAYS=7
MATERNITY_LEAVE_DAYS=105
PATERNITY_LEAVE_DAYS=7

# 13th Month Pay
THIRTEENTH_MONTH_MINIMUM=7000
THIRTEENTH_MONTH_TAX_THRESHOLD=90000

# =============================================================================
# PAYMENT PROCESSING
# =============================================================================

# PayMongo (Philippine Payment Gateway)
PAYMONGO_SECRET_KEY=your-paymongo-secret-key
PAYMONGO_PUBLIC_KEY=your-paymongo-public-key
PAYMONGO_WEBHOOK_SECRET=your-paymongo-webhook-secret
PAYMONGO_API_ENDPOINT=https://api.paymongo.com/v1

# GCash Integration
GCASH_MERCHANT_ID=your-gcash-merchant-id
GCASH_MERCHANT_SECRET=your-gcash-secret
GCASH_API_ENDPOINT=https://api.gcash.com

# Maya (PayMaya) Integration
MAYA_MERCHANT_ID=your-maya-merchant-id
MAYA_SECRET_KEY=your-maya-secret-key
MAYA_API_ENDPOINT=https://pg-sandbox.paymaya.com

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================

# Email Service (Cloudflare Email Workers)
EMAIL_SERVICE=cloudflare
EMAIL_FROM=noreply@your-domain.com
EMAIL_FROM_NAME=Wisetracks POS System

# SMTP Configuration (Alternative)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USERNAME=your-smtp-username
SMTP_PASSWORD=your-smtp-password

# Email Templates
EMAIL_TEMPLATE_WELCOME=welcome
EMAIL_TEMPLATE_RESET_PASSWORD=reset-password
EMAIL_TEMPLATE_PAYSLIP=payslip
EMAIL_TEMPLATE_RECEIPT=receipt

# =============================================================================
# SMS CONFIGURATION
# =============================================================================

# Semaphore SMS (Philippine SMS Provider)
SEMAPHORE_API_KEY=your-semaphore-api-key
SEMAPHORE_SENDER_NAME=WISETRACKS
SEMAPHORE_API_ENDPOINT=https://api.semaphore.co

# SMS Templates
SMS_TEMPLATE_OTP=Your Wisetracks OTP is: {code}
SMS_TEMPLATE_ALERT=Wisetracks Alert: {message}

# =============================================================================
# LOGGING & MONITORING
# =============================================================================

# Log Levels
LOG_LEVEL=info
LOG_FORMAT=json
LOG_DESTINATION=cloudflare

# Error Tracking
SENTRY_DSN=your-sentry-dsn
SENTRY_ENVIRONMENT=development
SENTRY_RELEASE=1.0.0

# Analytics
GOOGLE_ANALYTICS_ID=your-ga-id
MIXPANEL_TOKEN=your-mixpanel-token

# Performance Monitoring
DATADOG_API_KEY=your-datadog-api-key
NEW_RELIC_LICENSE_KEY=your-newrelic-key

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Development Server
DEV_SERVER_PORT=3000
DEV_SERVER_HOST=localhost
HOT_RELOAD=true

# Debug Settings
DEBUG=true
VERBOSE_LOGGING=true
ENABLE_CORS_DEBUG=true

# Test Configuration
TEST_DATABASE_URL=test-database-url
TEST_JWT_SECRET=test-jwt-secret
TEST_USER_EMAIL=test@wisetracks.com
TEST_USER_PASSWORD=testpassword123

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature Toggles
ENABLE_MOBILE_APP=true
ENABLE_INVENTORY_MODULE=true
ENABLE_ACCOUNTING_MODULE=true
ENABLE_HR_MODULE=true
ENABLE_REPORTS_MODULE=true
ENABLE_MULTI_BRANCH=true
ENABLE_OFFLINE_MODE=true

# Beta Features
ENABLE_AI_INSIGHTS=false
ENABLE_VOICE_COMMANDS=false
ENABLE_BIOMETRIC_AUTH=false

# =============================================================================
# THIRD-PARTY INTEGRATIONS
# =============================================================================

# Google Workspace
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=your-redirect-uri

# Microsoft 365
MICROSOFT_CLIENT_ID=your-microsoft-client-id
MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret

# Accounting Software Integration
QUICKBOOKS_CLIENT_ID=your-qb-client-id
QUICKBOOKS_CLIENT_SECRET=your-qb-client-secret
XERO_CLIENT_ID=your-xero-client-id
XERO_CLIENT_SECRET=your-xero-client-secret

# =============================================================================
# COMPLIANCE & AUDIT
# =============================================================================

# Data Privacy Act (DPA) Compliance
DPA_OFFICER_NAME=Your DPO Name
DPA_OFFICER_EMAIL=dpo@your-company.com
DPA_RETENTION_PERIOD=7
DPA_ENCRYPTION_KEY=your-encryption-key

# Audit Trail
AUDIT_LOG_RETENTION=365
AUDIT_LOG_ENCRYPTION=true
AUDIT_WEBHOOK_URL=your-audit-webhook-url

# Backup Configuration
BACKUP_FREQUENCY=daily
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION_KEY=your-backup-encryption-key
BACKUP_STORAGE_BUCKET=wisetracks-backups

# =============================================================================
# CACHING CONFIGURATION
# =============================================================================

# Redis Configuration (Alternative caching)
REDIS_URL=your-redis-url
REDIS_PASSWORD=your-redis-password
REDIS_TTL=3600

# Cache Settings
CACHE_STATIC_FILES=true
CACHE_API_RESPONSES=true
CACHE_TTL_SHORT=300
CACHE_TTL_MEDIUM=3600
CACHE_TTL_LONG=86400

# =============================================================================
# TIMEZONE & LOCALIZATION
# =============================================================================

# Philippine Settings
DEFAULT_TIMEZONE=Asia/Manila
DEFAULT_LOCALE=en-PH
DEFAULT_CURRENCY=PHP
CURRENCY_DECIMAL_PLACES=2

# Date Formats
DATE_FORMAT=MM/DD/YYYY
TIME_FORMAT=12h
DATETIME_FORMAT=MM/DD/YYYY hh:mm A

# =============================================================================
# SECURITY HEADERS
# =============================================================================

# Content Security Policy
CSP_DEFAULT_SRC=self
CSP_SCRIPT_SRC=self unsafe-inline
CSP_STYLE_SRC=self unsafe-inline
CSP_IMG_SRC=self data: https:
CSP_FONT_SRC=self

# Additional Security Headers
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff
REFERRER_POLICY=strict-origin-when-cross-origin
PERMISSIONS_POLICY=geolocation=(), microphone=(), camera=()

# =============================================================================
# API VERSIONING
# =============================================================================

# API Configuration
API_VERSION=v2
API_PREFIX=/api/v2
API_DOCS_PATH=/docs
API_HEALTH_PATH=/health
API_METRICS_PATH=/metrics

# Rate Limiting by Endpoint
RATE_LIMIT_AUTH=5/min
RATE_LIMIT_POS=100/min
RATE_LIMIT_PAYROLL=50/min
RATE_LIMIT_REPORTS=20/min

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Build Settings
BUILD_ENV=production
BUILD_OPTIMIZE=true
BUILD_MINIFY=true
BUILD_SOURCE_MAPS=false

# Deployment Settings
DEPLOY_ENVIRONMENT=production
DEPLOY_BRANCH=main
DEPLOY_AUTO_DEPLOY=true
DEPLOY_PREVIEW_URLS=true

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# =============================================================================
# NOTES
# =============================================================================
# 1. Replace all "your-*" placeholders with actual values
# 2. Never commit this file with real secrets to version control
# 3. Use Cloudflare secrets for production deployment
# 4. Rotate secrets regularly (quarterly recommended)
# 5. Monitor for any security warnings in production logs
# 6. Ensure compliance with Philippine data privacy laws
# 7. Test all integrations in staging before production
# 8. Keep backup of all secrets in secure password manager