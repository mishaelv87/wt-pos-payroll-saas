# =============================================================================
# WISETRACKS POS & PAYROLL SAAS - PRODUCTION ENVIRONMENT
# =============================================================================
# CRITICAL: DO NOT COMMIT THIS FILE WITH REAL VALUES
# Use Cloudflare secrets for sensitive data in production
# Last Updated: 2024-01-15

# =============================================================================
# PRODUCTION APPLICATION CONFIGURATION
# =============================================================================
NODE_ENV=production
APP_NAME=Wisetracks POS & Payroll SaaS
APP_VERSION=2.0.0
APP_DESCRIPTION=Complete POS and Payroll solution for Philippine businesses

# Production URLs
APP_URL=https://pos.wisetracks.com
API_URL=https://api.wisetracks.com
FRONTEND_URL=https://pos.wisetracks.com
ADMIN_URL=https://admin.wisetracks.com

# =============================================================================
# CLOUDFLARE PRODUCTION CONFIGURATION
# =============================================================================
CLOUDFLARE_ACCOUNT_ID=your-production-account-id
CLOUDFLARE_ZONE_ID=your-production-zone-id

# Production Workers
WORKER_NAME=wisetracks-pos-payroll-prod
WORKER_SUBDOMAIN=api

# Production Pages
PAGES_PROJECT_NAME=wisetracks-pos-frontend-prod
PAGES_DOMAIN=pos.wisetracks.com
PAGES_CUSTOM_DOMAIN=pos.wisetracks.com

# =============================================================================
# PRODUCTION DATABASE CONFIGURATION
# =============================================================================
D1_DATABASE_NAME=wisetracks_pos_payroll_prod
DATABASE_MAX_CONNECTIONS=25
DATABASE_TIMEOUT=30000

# =============================================================================
# PRODUCTION SECURITY CONFIGURATION
# =============================================================================
# These should be set as Cloudflare secrets, not in this file
JWT_ALGORITHM=HS256
JWT_EXPIRES_IN=4h
JWT_ISSUER=wisetracks-pos-saas-prod
JWT_AUDIENCE=wisetracks-users-prod

REFRESH_TOKEN_EXPIRES_IN=7d

BCRYPT_ROUNDS=14
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_SPECIAL=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_UPPERCASE=true

SESSION_EXPIRES_IN=8h
SESSION_SECURE=true
SESSION_SAME_SITE=strict

# =============================================================================
# PRODUCTION RATE LIMITING
# =============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=200
RATE_LIMIT_SKIP_SUCCESS=false

# API-Specific Rate Limits
RATE_LIMIT_AUTH=3/min
RATE_LIMIT_POS=500/min
RATE_LIMIT_PAYROLL=100/min
RATE_LIMIT_REPORTS=50/min

# =============================================================================
# PRODUCTION CORS CONFIGURATION
# =============================================================================
CORS_ORIGIN=https://pos.wisetracks.com
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=Content-Type,Authorization,X-Requested-With
CORS_CREDENTIALS=true

# =============================================================================
# PHILIPPINE BUSINESS COMPLIANCE (PRODUCTION)
# =============================================================================
BIR_API_ENDPOINT=https://cas.bir.gov.ph
BIR_WITHHOLDING_TAX_RATE=0.01

SSS_API_ENDPOINT=https://api.sss.gov.ph
SSS_CONTRIBUTION_RATE_EMPLOYEE=0.045
SSS_CONTRIBUTION_RATE_EMPLOYER=0.095

PHILHEALTH_API_ENDPOINT=https://api.philhealth.gov.ph
PHILHEALTH_PREMIUM_RATE=0.05
PHILHEALTH_MAX_SALARY=90000

PAGIBIG_API_ENDPOINT=https://api.pagibigfund.gov.ph
PAGIBIG_CONTRIBUTION_RATE=0.02
PAGIBIG_MAX_SALARY=5000

# =============================================================================
# PRODUCTION PAYMENT PROCESSING
# =============================================================================
PAYMONGO_API_ENDPOINT=https://api.paymongo.com/v1
GCASH_API_ENDPOINT=https://api.gcash.com
MAYA_API_ENDPOINT=https://pg.paymaya.com

# =============================================================================
# PRODUCTION EMAIL CONFIGURATION
# =============================================================================
EMAIL_SERVICE=cloudflare
EMAIL_FROM=noreply@wisetracks.com
EMAIL_FROM_NAME=Wisetracks POS System

EMAIL_TEMPLATE_WELCOME=welcome-prod
EMAIL_TEMPLATE_RESET_PASSWORD=reset-password-prod
EMAIL_TEMPLATE_PAYSLIP=payslip-prod
EMAIL_TEMPLATE_RECEIPT=receipt-prod

# =============================================================================
# PRODUCTION SMS CONFIGURATION
# =============================================================================
SEMAPHORE_SENDER_NAME=WISETRACKS
SEMAPHORE_API_ENDPOINT=https://api.semaphore.co

SMS_TEMPLATE_OTP=Your Wisetracks verification code: {code}
SMS_TEMPLATE_ALERT=Wisetracks Alert: {message}

# =============================================================================
# PRODUCTION LOGGING & MONITORING
# =============================================================================
LOG_LEVEL=warn
LOG_FORMAT=json
LOG_DESTINATION=cloudflare

SENTRY_ENVIRONMENT=production
SENTRY_RELEASE=2.0.0

# =============================================================================
# PRODUCTION FEATURE FLAGS
# =============================================================================
ENABLE_MOBILE_APP=true
ENABLE_INVENTORY_MODULE=true
ENABLE_ACCOUNTING_MODULE=true
ENABLE_HR_MODULE=true
ENABLE_REPORTS_MODULE=true
ENABLE_MULTI_BRANCH=true
ENABLE_OFFLINE_MODE=true

# Beta Features (Disabled in Production)
ENABLE_AI_INSIGHTS=false
ENABLE_VOICE_COMMANDS=false
ENABLE_BIOMETRIC_AUTH=false

# =============================================================================
# PRODUCTION COMPLIANCE & AUDIT
# =============================================================================
AUDIT_LOG_RETENTION=2555
AUDIT_LOG_ENCRYPTION=true

BACKUP_FREQUENCY=daily
BACKUP_RETENTION_DAYS=90
BACKUP_STORAGE_BUCKET=wisetracks-backups-prod

# =============================================================================
# PRODUCTION CACHING
# =============================================================================
CACHE_STATIC_FILES=true
CACHE_API_RESPONSES=true
CACHE_TTL_SHORT=600
CACHE_TTL_MEDIUM=7200
CACHE_TTL_LONG=172800

# =============================================================================
# PRODUCTION TIMEZONE & LOCALIZATION
# =============================================================================
DEFAULT_TIMEZONE=Asia/Manila
DEFAULT_LOCALE=en-PH
DEFAULT_CURRENCY=PHP
CURRENCY_DECIMAL_PLACES=2

DATE_FORMAT=MM/DD/YYYY
TIME_FORMAT=12h
DATETIME_FORMAT=MM/DD/YYYY hh:mm A

# =============================================================================
# PRODUCTION SECURITY HEADERS
# =============================================================================
CSP_DEFAULT_SRC='self'
CSP_SCRIPT_SRC='self' 'unsafe-inline' https://cdn.jsdelivr.net
CSP_STYLE_SRC='self' 'unsafe-inline' https://fonts.googleapis.com
CSP_IMG_SRC='self' data: https: blob:
CSP_FONT_SRC='self' https://fonts.gstatic.com
CSP_CONNECT_SRC='self' https://api.wisetracks.com wss:

X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff
REFERRER_POLICY=strict-origin-when-cross-origin
PERMISSIONS_POLICY=geolocation=(), microphone=(), camera=()

# =============================================================================
# PRODUCTION API CONFIGURATION
# =============================================================================
API_VERSION=v2
API_PREFIX=/api/v2
API_DOCS_PATH=/docs
API_HEALTH_PATH=/health
API_METRICS_PATH=/metrics

# =============================================================================
# PRODUCTION BUILD SETTINGS
# =============================================================================
BUILD_ENV=production
BUILD_OPTIMIZE=true
BUILD_MINIFY=true
BUILD_SOURCE_MAPS=false
BUILD_TREE_SHAKING=true
BUILD_COMPRESSION=true

# =============================================================================
# PRODUCTION DEPLOYMENT SETTINGS
# =============================================================================
DEPLOY_ENVIRONMENT=production
DEPLOY_BRANCH=main
DEPLOY_AUTO_DEPLOY=false
DEPLOY_PREVIEW_URLS=false
DEPLOY_REQUIRE_APPROVAL=true

# =============================================================================
# PRODUCTION HEALTH CHECK CONFIGURATION
# =============================================================================
HEALTH_CHECK_INTERVAL=60
HEALTH_CHECK_TIMEOUT=30
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_ENDPOINTS=/health,/api/v2/health

# =============================================================================
# PRODUCTION ERROR HANDLING
# =============================================================================
ERROR_SHOW_STACK=false
ERROR_LOG_DETAILED=true
ERROR_NOTIFY_ADMIN=true
ERROR_RETRY_ATTEMPTS=3

# =============================================================================
# PRODUCTION SECRETS MANAGEMENT
# =============================================================================
# The following secrets must be set using Cloudflare secrets:
# wrangler secret put JWT_SECRET
# wrangler secret put REFRESH_TOKEN_SECRET
# wrangler secret put SESSION_SECRET
# wrangler secret put BIR_TIN
# wrangler secret put BIR_CAS_USERNAME
# wrangler secret put BIR_CAS_PASSWORD
# wrangler secret put SSS_EMPLOYER_ID
# wrangler secret put SSS_API_KEY
# wrangler secret put SSS_API_SECRET
# wrangler secret put PHILHEALTH_EMPLOYER_ID
# wrangler secret put PHILHEALTH_API_KEY
# wrangler secret put PAGIBIG_EMPLOYER_ID
# wrangler secret put PAGIBIG_API_KEY
# wrangler secret put PAYMONGO_SECRET_KEY
# wrangler secret put PAYMONGO_WEBHOOK_SECRET
# wrangler secret put GCASH_MERCHANT_SECRET
# wrangler secret put MAYA_SECRET_KEY
# wrangler secret put SMTP_PASSWORD
# wrangler secret put SEMAPHORE_API_KEY
# wrangler secret put SENTRY_DSN
# wrangler secret put DPA_ENCRYPTION_KEY
# wrangler secret put BACKUP_ENCRYPTION_KEY

# =============================================================================
# PRODUCTION NOTES
# =============================================================================
# 1. All sensitive secrets are managed via Cloudflare secrets
# 2. This file contains only non-sensitive configuration
# 3. Monitor application performance and adjust settings as needed
# 4. Review and update security configurations quarterly
# 5. Ensure compliance with Philippine regulations
# 6. Test disaster recovery procedures regularly
# 7. Monitor rate limits and adjust based on usage patterns
# 8. Keep audit logs for regulatory compliance